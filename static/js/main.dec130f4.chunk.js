(this["webpackJsonpkinopoisk-like"]=this["webpackJsonpkinopoisk-like"]||[]).push([[0],{40:function(e,a,t){e.exports=t(63)},60:function(e,a,t){},61:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),c=t.n(l),i=t(10),o=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar__brand"},r.a.createElement(i.b,{to:"/kinopoisk-like/"},"KinoPoisk",r.a.createElement("span",null,"Like"))),r.a.createElement("div",{className:"navbar__text"},"Movies, movies and movies again")))},m=t(19),s=t(20),u=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer__text"},"Powered by",r.a.createElement("a",{href:"https://vk.com/tania_lebed"},"Tania Lebed",r.a.createElement("span",null,r.a.createElement(m.a,{icon:s.a,swapOpacity:!0})))))},E=t(33),d=t(34),f=t(39),p=t(38),_=function(){return r.a.createElement("div",{className:"error__boundry"},r.a.createElement("h1",{className:"error__boundry-text"},"Something went wrong"))},h=function(e){Object(f.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={error:!1},e}return Object(d.a)(t,[{key:"componentDidCatch",value:function(e,a){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement(_,null):this.props.children}}]),t}(n.Component),v=t(15),b=t(27),F=t(65),y=t(66),g=t(69),N=t(67),S=t(68),k=function(e){var a=e.filmsRequestAction,t=e.searchFilm,l=Object(n.useState)(null),c=Object(b.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)(!1),E=Object(b.a)(u,2),d=E[0],f=E[1],p=function(){a(i)};return r.a.createElement("div",{className:"search__area"},r.a.createElement(F.a,{onKeyPress:function(e){"Enter"!==e.key||d||p()}},r.a.createElement(y.a,{type:"text",placeholder:t,className:"search",onChange:function(e){var a=e.target.value;-1===a.search(/[^A-Za-z\s\d]/g)?(f(!1),o(a)):f(!0)}}),r.a.createElement(g.a,{addonType:"append"},r.a.createElement(N.a,{className:"search__button",color:"warning",disabled:d,onClick:p},r.a.createElement(m.a,{icon:s.b,swapOpacity:!0})))),r.a.createElement(S.a,{color:"warning",isOpen:d,toggle:function(){return f(!1)}},r.a.createElement("div",{style:{textAlign:"center"}},"English Only, No Symbols except Letters and Numbers")))},C=function(e){var a=e.film,t=a.imdbID,n=a.Title,l=a.Poster,c=a.Year,o=a.Type;return r.a.createElement("div",{className:"film__card"},r.a.createElement("div",{className:"film__poster"},r.a.createElement(i.b,{to:"/kinopoisk-like/film/".concat(t)},r.a.createElement("img",{src:l,alt:n}))),r.a.createElement("div",{className:"film__card-body"},r.a.createElement(i.b,{to:"/kinopoisk-like/film/".concat(t)},r.a.createElement("div",{className:"film__title"},n)),r.a.createElement("div",{className:"film__info"},"movie"===o?"Movie":"Series",", ",c)))},O=function(e){var a=e.films;return r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"main__films"},a.map((function(e){return r.a.createElement(C,{key:e.imdbID,film:e})}))))},j=(t(60),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"loadingio-spinner-ripple-s3qepo3huy"},r.a.createElement("div",{className:"ldio-66ma5yh97j3"},r.a.createElement("div",null),r.a.createElement("div",null))))}),w=Object(v.b)((function(e){return{searchFilm:e.films.searchFilm,films:e.films.films,loading:e.films.loading,error:e.films.error}}),(function(e){return{filmsRequestAction:function(a){return e(function(e){var a=e.trim().toLowerCase().replace(/\W+/g,"+");return function(t){t({type:"FETCH_FILMS_REQUEST",payload:e}),fetch("http://www.omdbapi.com/?s=".concat(a,"&apikey=").concat("bf752dc7")).then((function(e){return e.json()})).then((function(e){if("True"!==e.Response)throw new Error("Movie not found");t({type:"FETCH_FILMS_SUCCESS",payload:e.Search})})).catch((function(e){t({type:"FETCH_FILMS_FAILURE",payload:e})}))}}(a))}}}))((function(e){var a=e.filmsRequestAction,t=e.error,l=e.films,c=e.loading,i=e.searchFilm;return Object(n.useEffect)((function(){a(i)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{searchFilm:i,filmsRequestAction:a}),t?r.a.createElement("h3",{className:"error"},"Error: ",t.message):c?r.a.createElement(j,null):r.a.createElement(O,{films:l}))})),T=function(e){if(e.film){var a=e.film,t=a.Title,n=a.Poster,l=a.Year,c=a.Country,i=a.Plot,o=a.Runtime,m=a.Genre,s=a.imdbRating,u=a.Director,E=a.Actors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"film__details-title"},t," ",r.a.createElement("span",null,"(",l,")")),r.a.createElement("div",{className:"film__details__card"},r.a.createElement("img",{src:n,alt:t}),r.a.createElement("div",{className:"film__details"},r.a.createElement("div",{className:"film__details-plot"},i),r.a.createElement("div",{className:"film__details-info"},r.a.createElement("div",null,"Country: ",c),r.a.createElement("div",null,"Genre: ",m),r.a.createElement("div",null,"Duration: ",o),r.a.createElement("div",{className:"film__details-rating"},"IMDB: ",s),r.a.createElement("div",null,"Director: ",u),r.a.createElement("div",null,"Actors: ",E)))))}return r.a.createElement(j,null)},I=Object(v.b)((function(e){return{chosenFilm:e.chosenFilm.chosenFilm,loading:e.chosenFilm.loading,error:e.chosenFilm.error}}),(function(e){return{chosenFilmRequestAction:function(a){return e(function(e){return function(a){a({type:"FETCH_CHOSEN_FILM_REQUEST"}),fetch("http://www.omdbapi.com/?i=".concat(e,"&apikey=").concat("bf752dc7")).then((function(e){return e.json()})).then((function(e){a({type:"FETCH_CHOSEN_FILM_SUCCESS",payload:e})})).catch((function(e){a({type:"FETCH_CHOSEN_FILM_FAILURE",payload:e})}))}}(a))}}}))((function(e){var a=e.chosenFilmRequestAction,t=e.error,l=e.loading,c=e.chosenFilm;return Object(n.useEffect)((function(){a(e.match.params.id)}),[]),t?r.a.createElement("h3",{className:"error"},"Error: ",t.message):l?r.a.createElement(j,null):r.a.createElement(h,null,r.a.createElement("div",{className:"filmDetails"},r.a.createElement(T,{film:c})))})),L=t(5);var H=function(){return r.a.createElement(h,null,r.a.createElement(i.a,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(o,null),r.a.createElement(L.c,null,r.a.createElement(L.a,{exact:!0,path:"/kinopoisk-like/",component:w}),r.a.createElement(L.a,{path:"/kinopoisk-like/film/:id?",component:I}),r.a.createElement(L.a,{render:function(){return r.a.createElement("h3",{className:"error"},"Page not found")}})),r.a.createElement(u,null))))},R=t(11),M=t(12),A={searchFilm:"batman",films:[],loading:!1,error:null},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_FILMS_REQUEST":return Object(M.a)(Object(M.a)({},e),{},{searchFilm:a.payload,loading:!0,error:!1});case"FETCH_FILMS_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{films:a.payload,loading:!1});case"FETCH_FILMS_FAILURE":return Object(M.a)(Object(M.a)({},e),{},{films:[],error:a.payload});default:return A}},x={chosenFilm:null,loading:!1,error:null},D=function(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_CHOSEN_FILM_REQUEST":return{chosenFilm:null,loading:!0,error:null};case"FETCH_CHOSEN_FILM_SUCCESS":return{chosenFilm:e.payload,loading:!1,error:null};case"FETCH_CHOSEN_FILM_FAILURE":return{chosenFilm:null,loading:!1,error:e.payload};default:return x}},q=Object(R.c)({films:U,chosenFilm:D}),P=t(36),Q=t.n(P),B=t(37),G=Object(R.d)(q,Object(R.a)(B.a,Q.a));t(61),t(62);c.a.render(r.a.createElement(v.a,{store:G},r.a.createElement(H,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.dec130f4.chunk.js.map